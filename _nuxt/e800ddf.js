(window.webpackJsonp=window.webpackJsonp||[]).push([[38,20,21,22,23,24,25],{388:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},389:function(t,e,n){"use strict";var o=n(2),r=n(390).trim;o({target:"String",proto:!0,forced:n(391)("trim")},{trim:function(){return r(this)}})},390:function(t,e,n){var o=n(18),r="["+n(388)+"]",c=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),d=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(l,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},391:function(t,e,n){var o=n(5),r=n(388);t.exports=function(t){return o((function(){return!!r[t]()||"​᠎"!="​᠎"[t]()||r[t].name!==t}))}},527:function(t,e,n){var content=n(547);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("74348a9c",content,!0,{sourceMap:!1})},528:function(t,e,n){var content=n(549);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("a66eb18e",content,!0,{sourceMap:!1})},535:function(t,e,n){"use strict";n.r(e);var o={props:{data:{type:Object,default:{}}}},r=(n(546),n(22)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-item"},[n("h1",[t._v(t._s(t.data.title))]),t._v(" "),n("p",[t._v(t._s(t.data.summary))]),t._v(" "),n("div",{staticClass:"cover"},[n("img",{attrs:{src:t.data.images[0]}}),t._v(" "),n("img",{attrs:{src:t.data.images[1]}}),t._v(" "),n("img",{attrs:{src:t.data.images[2]}})]),t._v(" "),n("div",{staticClass:"authort"},[n("div",{staticClass:"left"},[n("i",{staticClass:"el-icon-location"}),t._v(" "),n("em",[t._v(t._s(t.data.cityName))]),t._v(" "),n("img",{attrs:{src:t.$axios.defaults.baseURL+t.data.account.defaultAvatar}}),t._v(" "),n("span",[t._v(t._s(t.data.account.nickname))]),t._v(" "),n("i",{staticClass:"el-icon-view"}),t._v(" "),n("b",[t._v(t._s(t.data.watch))])]),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t.data.like||"")+" 赞")])])])}),[],!1,null,"5d65bdf4",null);e.default=component.exports},536:function(t,e,n){"use strict";n.r(e);var o={props:{data:{type:Object,default:{}}}},r=(n(548),n(22)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post-item"},[t._m(0),t._v(" "),n("div",{staticClass:"content-right"},[n("div",{staticClass:"title"},[n("p",[t._v(t._s(t.data.title))])]),t._v(" "),n("div",{staticClass:"content"},[n("p",[t._v(t._s(t.data.summary))])]),t._v(" "),n("div",{staticClass:"authort"},[n("div",{staticClass:"left"},[n("i",{staticClass:"el-icon-location"}),t._v(" "),n("em",[t._v(t._s(t.data.cityName))]),t._v(" "),n("img",{attrs:{src:t.$axios.defaults.baseURL+t.data.account.defaultAvatar}}),t._v(" "),n("span",[t._v(t._s(t.data.account.nickname))]),t._v(" "),n("i",{staticClass:"el-icon-view"}),t._v(" "),n("b",[t._v(t._s(t.data.watch))])]),t._v(" "),n("div",{staticClass:"right"},[t._v(t._s(t.data.like||"")+" 赞")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cover"},[e("img",{attrs:{src:"https://n3-q.mafengwo.net/s10/M00/E8/E4/wKgBZ1octoCABhgLAAafahORRLs91.jpeg?imageView2%2F2%2Fw%2F1360%2Fq%2F90",alt:""}})])}],!1,null,"a4ce38e0",null);e.default=component.exports},543:function(t,e,n){var content=n(579);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("0367e388",content,!0,{sourceMap:!1})},544:function(t,e,n){var content=n(581);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("6338812a",content,!0,{sourceMap:!1})},545:function(t,e,n){var content=n(583);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("18e2d3e4",content,!0,{sourceMap:!1})},546:function(t,e,n){"use strict";n(527)},547:function(t,e,n){var o=n(20)(!1);o.push([t.i,".post-item[data-v-5d65bdf4]{cursor:pointer;border-bottom:1px solid #ddd}.post-item h1[data-v-5d65bdf4]{font-size:22px;font-weight:400;margin:15px 0}.post-item h1[data-v-5d65bdf4]:hover{color:#f90}.post-item p[data-v-5d65bdf4]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden;margin:15px 0}.post-item .cover[data-v-5d65bdf4]{display:flex;align-items:center;justify-content:space-between}.post-item .cover img[data-v-5d65bdf4]{width:33%;height:150px;-o-object-fit:cover;object-fit:cover}.post-item .authort[data-v-5d65bdf4]{justify-content:space-between;margin:15px 0}.post-item .authort[data-v-5d65bdf4],.post-item .authort .left[data-v-5d65bdf4]{display:flex;align-items:center}.post-item .authort .left i[data-v-5d65bdf4]{font-size:18px;margin-top:2px}.post-item .authort .left em[data-v-5d65bdf4]{margin:0 5px}.post-item .authort .left img[data-v-5d65bdf4]{display:block;border-radius:500px;width:20px;height:20px;margin:0 5px}.post-item .authort .left span[data-v-5d65bdf4]{color:#f90;font-size:14px;margin:0 5px}.post-item .authort .left b[data-v-5d65bdf4]{margin:0 5px;font-size:14px;color:#999;font-weight:400}.post-item .authort .right[data-v-5d65bdf4]{color:#f90}",""]),t.exports=o},548:function(t,e,n){"use strict";n(528)},549:function(t,e,n){var o=n(20)(!1);o.push([t.i,".post-item[data-v-a4ce38e0]{width:100%;cursor:pointer;border-bottom:1px solid #ddd;display:flex;align-items:center;margin:15px 0;padding-bottom:10px}.post-item .cover[data-v-a4ce38e0]{margin-right:10px}.post-item .cover img[data-v-a4ce38e0]{width:220px;height:150px;-o-object-fit:cover;object-fit:cover}.post-item .content-right .title p[data-v-a4ce38e0]{font-size:18px;font-weight:400;margin-bottom:15px}.post-item .content-right .title p[data-v-a4ce38e0]:hover{color:#f90}.post-item .content-right .content p[data-v-a4ce38e0]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden;margin:15px 0}.post-item .content-right .authort[data-v-a4ce38e0]{display:flex;align-items:center;justify-content:space-between;margin:15px 0}.post-item .content-right .authort .left[data-v-a4ce38e0]{display:flex;align-items:center}.post-item .content-right .authort .left i[data-v-a4ce38e0]{font-size:18px;margin-top:2px}.post-item .content-right .authort .left em[data-v-a4ce38e0]{margin:0 5px}.post-item .content-right .authort .left img[data-v-a4ce38e0]{display:block;border-radius:500px;width:20px;height:20px;margin:0 5px}.post-item .content-right .authort .left span[data-v-a4ce38e0]{color:#f90;font-size:14px;margin:0 5px}.post-item .content-right .authort .left b[data-v-a4ce38e0]{margin:0 5px;font-size:14px;color:#999;font-weight:400}.post-item .content-right .authort .right[data-v-a4ce38e0]{color:#f90}",""]),t.exports=o},550:function(t,e,n){var content=n(585);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("759b31ee",content,!0,{sourceMap:!1})},578:function(t,e,n){"use strict";n(543)},579:function(t,e,n){var o=n(20)(!1);o.push([t.i,".menus[data-v-4d5a5913]{position:relative;box-sizing:border-box}.menus .menu-title[data-v-4d5a5913]{position:relative;z-index:1000;background:#fff}.menus .menu-title .menu-title-value[data-v-4d5a5913]{padding:10px 15px;border:1px solid #ccc;border-collapse:collapse;display:flex;justify-content:space-between;align-items:center;font-size:14px;cursor:pointer}.menus .menu-title .menu-title-value[data-v-4d5a5913]:hover{color:#f90;border-right:#fff}.menus .menu-float[data-v-4d5a5913]{width:150%;position:absolute;top:0;left:99.8%;z-index:999;cursor:pointer}.menus .menu-float .menu-item[data-v-4d5a5913]{background:#fff;border:1px solid #ccc}.menus .menu-float .menu-item .menu-item-value[data-v-4d5a5913]{padding:5px 20px;font-size:14px;color:#999;display:flex;align-items:center}.menus .menu-float .menu-item .menu-item-value em[data-v-4d5a5913],.menus .menu-float .menu-item .menu-item-value span[data-v-4d5a5913]{color:#f90}.menus .menu-float .menu-item .menu-item-value span[data-v-4d5a5913]{vertical-align:top;font-size:25px;font-style:oblique;padding-bottom:3px}.menus .menu-float .menu-item .menu-item-value em[data-v-4d5a5913]{margin:0 10px;width:50px;text-align:center}.menus .menu-float .menu-item .menu-item-value em[data-v-4d5a5913]:hover,.menus .menu-float .menu-item .menu-item-value i[data-v-4d5a5913]:hover{text-decoration:underline}",""]),t.exports=o},580:function(t,e,n){"use strict";n(544)},581:function(t,e,n){var o=n(20)(!1);o.push([t.i,".recommend-city[data-v-31dcaf7a]{margin:20px 0}.title[data-v-31dcaf7a]{border-bottom:1px solid #ccc;padding-bottom:10px}.cover[data-v-31dcaf7a]{width:100%;cursor:pointer;margin-top:10px}",""]),t.exports=o},582:function(t,e,n){"use strict";n(545)},583:function(t,e,n){var o=n(20)(!1);o.push([t.i,".post-search[data-v-521f7e60]{display:flex;align-items:center;border:3px solid #f90}.post-search[data-v-521f7e60] .el-input__inner{border:0;border-radius:0;font-size:16px}.post-search .el-icon-search[data-v-521f7e60]{padding:0 10px;font-size:25px;color:#f90;font-weight:700;cursor:pointer}.recommend-search[data-v-521f7e60]{margin:10px 0;cursor:default;font-size:14px}.recommend-search .city[data-v-521f7e60]{padding:0 5px;cursor:pointer}.recommend-search .city[data-v-521f7e60]:hover{color:#f90}",""]),t.exports=o},584:function(t,e,n){"use strict";n(550)},585:function(t,e,n){var o=n(20)(!1);o.push([t.i,".recommend-post[data-v-712492fc]{position:relative}.recommend-post[data-v-712492fc] .el-tabs__item{font-size:18px}.recommend-post[data-v-712492fc] .el-tabs__nav{padding-bottom:10px}.recommend-post .write[data-v-712492fc]{position:absolute;top:0;right:0}",""]),t.exports=o},610:function(t,e,n){"use strict";n.r(e);n(389);var o={data:function(){return{value:""}},methods:{handleSearch:function(){var t=this;this.$store.dispatch("post/getPostList",{city:this.value.trim()}).then((function(e){t.$emit("getSearchPost",e)}))},handleClickRecommend:function(t){console.log("点击了推荐城市：",t),this.value=t,this.handleSearch()}}},r=(n(582),n(22)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"post-search"},[n("el-input",{attrs:{placeholder:"请输入想去的地方，比如：广州"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),n("div",{staticClass:"el-icon-search",on:{click:t.handleSearch}})],1),t._v(" "),n("div",{staticClass:"recommend-search"},[t._v("\n    推荐：\n    "),t._l(["广州","上海","北京"],(function(e){return n("span",{key:e,staticClass:"city",on:{click:function(n){return t.handleClickRecommend(e)}}},[t._v("\n      "+t._s(e)+"\n    ")])}))],2)])}),[],!1,null,"521f7e60",null);e.default=component.exports},614:function(t,e,n){var content=n(655);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("3a8e5088",content,!0,{sourceMap:!1})},635:function(t,e,n){"use strict";n.r(e);n(52),n(64);var o={props:{data:{type:Array,default:function(){return[]}}},data:function(){return{isShow:-1,title:["热门城市","推荐城市","奔向海岛","主题推荐"]}},methods:{handleOpen:function(t,e){console.log(t,e)},handleClose:function(t,e){console.log(t,e)},handleMouseEnter:function(t){this.isShow=t},handleMouseLeave:function(){this.isShow=-1},handleClickCity:function(t,desc){var e={path:"/post",query:{}};t&&(e.query.city=t),desc&&(e.query.desc=desc),this.$router.replace(e)}}},r=(n(578),n(22)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menus",on:{mouseleave:t.handleMouseLeave}},t._l(t.data,(function(e,o){return n("div",{key:o},[n("div",{staticClass:"menu-title"},[n("div",{staticClass:"menu-title-value",on:{mouseenter:function(e){return t.handleMouseEnter(o)}}},[n("span",[t._v(t._s(e.type))]),n("span",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),n("div",{staticClass:"menu-float"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow===o,expression:"isShow === index"}],staticClass:"menu-item"},t._l(e.children,(function(e,o){return n("div",{key:o,staticClass:"menu-item-value"},[n("span",[t._v(t._s(o+1))]),t._v(" "),n("em",{on:{click:function(n){return t.handleClickCity(e.city)}}},[t._v(t._s(e.city))]),t._v(" "),n("i",{on:{click:function(n){return t.handleClickCity(e.city,e.desc)}}},[t._v(t._s(e.desc))])])})),0)])])})),0)}),[],!1,null,"4d5a5913",null);e.default=component.exports},636:function(t,e,n){"use strict";n.r(e);var o={props:{data:{type:Array,default:function(){return[]}}}},r=(n(580),n(22)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommend-city"},[n("div",{staticClass:"title"},[t._v("推荐城市")]),t._v(" "),n("nuxt-link",{attrs:{to:t.data[0]?"/post/detail?id="+t.data[0].id:"/post"}},[n("img",{staticClass:"cover",attrs:{src:t.data[0]&&t.data[0].images[0],alt:""}})])],1)}),[],!1,null,"31dcaf7a",null);e.default=component.exports},637:function(t,e,n){"use strict";n.r(e);var o=n(535),r=n(536),c={components:{PostList3:o.default,PostList1:r.default},props:{data:{type:Array,default:function(){return[]}}},data:function(){return{activeName:"first"}},methods:{handleClick:function(t,e){console.log(t,e)},handleCreate:function(){console.log("点击了写游记"),this.$router.push("/post/create")}}},l=(n(584),n(22)),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"recommend-post"},[n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"推荐攻略",name:"first"}},t._l(t.data,(function(e,o){return n("nuxt-link",{key:o,attrs:{to:"/post/detail?id="+e.id}},[e.images.length>=3?n("PostList3",{attrs:{data:e}}):t._e(),t._v(" "),e.images.length<3?n("PostList1",{attrs:{data:e}}):t._e()],1)})),1)],1),t._v(" "),n("el-button",{staticClass:"write",attrs:{type:"primary"},on:{click:t.handleCreate}},[n("span",{staticClass:"el-icon-edit"}),t._v(" "),n("span",[t._v("写游记")])])],1)])}),[],!1,null,"712492fc",null);e.default=component.exports;installComponents(component,{PostList3:n(535).default,PostList1:n(536).default})},654:function(t,e,n){"use strict";n(614)},655:function(t,e,n){var o=n(20)(!1);o.push([t.i,".main[data-v-47f08fd2]{width:1000px;margin:auto;padding:20px 0}.pages[data-v-47f08fd2]{text-align:center}",""]),t.exports=o},700:function(t,e,n){"use strict";n.r(e);var o=n(635),r=n(636),c=n(610),l=n(637),d={components:{HotList:o.default,RecommendCity:r.default,PostSearch:c.default,RecommendPost:l.default},mounted:function(){var t=this;this.getCityList().then((function(e){t.cityList=e})),this.requestPostList()},data:function(){return{pageInedx:1,pageSize:3,total:0,cityList:[],postList:[]}},methods:{handleSizeChange:function(t){console.log("每页 ".concat(t," 条")),this.pageSize=t,this.requestPostList({_limit:this.pageSize})},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pageIndex=t;var e=(t-1)*this.pageSize;this.requestPostList({_start:e})},requestPostList:function(){var t=this,data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=data._start,n=data._limit,o=data.city,r={};return e&&(r._start=e),n&&(r._limit=n),o&&(r.city=o),this.$store.dispatch("post/getPostList",r).then((function(e){var data=e.data,n=e.total;return t.total=n,t.postList=data,e}))},getCityList:function(){return this.$axios({url:"posts/cities",params:{_start:0,_limit:this.pageSize}}).then((function(t){return t.data.data}))},getSearchPost:function(t){if(t){var data=t.data,e=t.total;this.total=e,this.postList=data}}}},f=(n(654),n(22)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("HotList",{attrs:{data:t.cityList}}),t._v(" "),n("RecommendCity",{attrs:{data:t.postList}})],1),t._v(" "),n("el-col",{attrs:{span:18}},[n("PostSearch",{on:{getSearchPost:t.getSearchPost}}),t._v(" "),n("RecommendPost",{attrs:{data:t.postList}}),t._v(" "),n("div",{staticClass:"pages"},[n("el-pagination",{attrs:{"current-page":t.pageInedx,"page-sizes":[3,5,10,15],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)],1)],1)}),[],!1,null,"47f08fd2",null);e.default=component.exports;installComponents(component,{PostSearch:n(610).default})}}]);