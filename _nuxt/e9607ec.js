(window.webpackJsonp=window.webpackJsonp||[]).push([[29,10],{388:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},389:function(e,t,r){"use strict";var o=r(2),n=r(390).trim;o({target:"String",proto:!0,forced:r(391)("trim")},{trim:function(){return n(this)}})},390:function(e,t,r){var o=r(18),n="["+r(388)+"]",d=RegExp("^"+n+n+"*"),l=RegExp(n+n+"*$"),c=function(e){return function(t){var r=String(o(t));return 1&e&&(r=r.replace(d,"")),2&e&&(r=r.replace(l,"")),r}};e.exports={start:c(1),end:c(2),trim:c(3)}},391:function(e,t,r){var o=r(5),n=r(388);e.exports=function(e){return o((function(){return!!n[e]()||"​᠎"!="​᠎"[e]()||n[e].name!==e}))}},537:function(e,t,r){var content=r(569);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("5769b0ce",content,!0,{sourceMap:!1})},568:function(e,t,r){"use strict";r(537)},569:function(e,t,r){var o=r(20)(!1);o.push([e.i,'.search-form[data-v-1f931848]{border:1px solid #ddd;border-top:none;width:360px;height:350px;box-sizing:border-box}.search-tab[data-v-1f931848]{cursor:pointer}.search-tab span[data-v-1f931848]{display:block;flex:1;text-align:center;height:48px;line-height:42px;box-sizing:border-box;border-top:3px solid #eee;background:#eee}.search-tab .active[data-v-1f931848]{border-top-color:orange;background:#fff}.search-tab i[data-v-1f931848]{margin-right:5px;font-size:18px}.search-tab i[data-v-1f931848]:first-child{font-size:16px}.search-form-content[data-v-1f931848]{padding:15px 50px 15px 15px;position:relative}.search-form-content .el-autocomplete[data-v-1f931848]{width:100%}.reverse[data-v-1f931848]{position:absolute;top:35px;right:15px}.reverse[data-v-1f931848]:after,.reverse[data-v-1f931848]:before{display:block;content:"";position:absolute;left:-35px;width:25px;height:1px;background:#ccc}.reverse[data-v-1f931848]:after{top:0}.reverse[data-v-1f931848]:before{top:60px}.reverse span[data-v-1f931848]{display:block;position:absolute;top:20px;right:0;font-size:12px;background:#999;color:#fff;width:20px;height:20px;line-height:18px;text-align:center;border-radius:2px;cursor:pointer}.reverse span[data-v-1f931848]:after,.reverse span[data-v-1f931848]:before{display:block;content:"";position:absolute;left:10px;width:1px;height:20px;background:#ccc}.reverse span[data-v-1f931848]:after{top:-20px}.reverse span[data-v-1f931848]:before{top:20px}',""]),e.exports=o},611:function(e,t,r){var content=r(649);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(21).default)("f8b0de2a",content,!0,{sourceMap:!1})},630:function(e,t,r){"use strict";r.r(t);var o=r(7),n=(r(67),r(29),r(389),r(11),r(53),r(52),r(64),{data:function(){return{form:{departCity:"",departCode:"",destCity:"",destCode:"",departDate:""},rules:{departCity:[{required:!0,message:"请选择出发城市",trigger:"abc"}],destCity:[{required:!0,message:"请选择到达城市",trigger:"abc"}],departDate:[{required:!0,message:"请选择出发日期",trigger:"abc"}]},tabs:[{icon:"iconfont icondancheng",name:"单程"},{icon:"iconfont iconshuangxiang",name:"往返"}],currentTab:0,pickerOptions:{disabledDate:function(time){return time.getTime()+864e5<Date.now()}},departCities:[],destCities:[]}},methods:{handleSearchTab:function(e,t){"往返"===e.name&&this.$message.warning("往返功能暂未开放")},queryDepartSearch:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.trim()){o.next=3;break}return t([]),o.abrupt("return");case 3:return r.$refs.form.validateField("departCity"),o.next=6,r.queryRequest(e);case 6:r.departCities=o.sent,t(r.departCities);case 8:case"end":return o.stop()}}),o)})))()},queryDestSearch:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.trim()){o.next=3;break}return t([]),o.abrupt("return");case 3:return r.$refs.form.validateField("destCity"),o.next=6,r.queryRequest(e);case 6:r.destCities=o.sent,t(r.destCities);case 8:case"end":return o.stop()}}),o)})))()},queryRequest:function(e){var t=this;return new Promise((function(r,o){t.$axios({url:"/airs/city",params:{name:e}}).then((function(e){var t=e.data.data.map((function(e){return e.value=e.name.replace("市",""),e}));r(t)}))}))},handleDepartSelect:function(e){this.form.departCode=e.sort},handleDestSelect:function(e){this.form.destCode=e.sort},handleDate:function(e){this.$refs.form.validateField("departDate")},handleReverse:function(){var e=this.form,t=e.departCity,r=e.destCity,o=e.departCode,n=e.destCode;this.form.departCity=r,this.form.destCity=t,this.form.departCode=n,this.form.destCode=o},handleDepartBlur:function(){this.departCities.length>0&&""!==this.form.departCity&&(this.form.departCity=this.departCities[0].value,this.form.departCode=this.departCities[0].sort)},handleDestBlur:function(){this.destCities.length>0&&""!==this.form.destCity&&(this.form.destCity=this.destCities[0].value,this.form.destCode=this.destCities[0].sort)},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.$store.commit("air/setHistoryData",e.form),e.$router.push({path:"/air/flights",query:e.form}))}))}},mounted:function(){}}),d=(r(568),r(22)),component=Object(d.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search-form"},[r("el-row",{staticClass:"search-tab",attrs:{type:"flex"}},e._l(e.tabs,(function(t,o){return r("span",{key:o,class:{active:o===e.currentTab},on:{click:function(r){return e.handleSearchTab(t,o)}}},[r("i",{class:t.icon}),e._v(e._s(t.name)+"\n    ")])})),0),e._v(" "),r("el-form",{ref:"form",staticClass:"search-form-content",attrs:{rules:e.rules,"label-width":"80px",model:e.form}},[r("el-form-item",{attrs:{label:"出发城市",prop:"departCity"}},[r("el-autocomplete",{staticClass:"el-autocomplete",attrs:{"fetch-suggestions":e.queryDepartSearch,placeholder:"请搜索出发城市"},on:{select:e.handleDepartSelect,blur:e.handleDepartBlur},model:{value:e.form.departCity,callback:function(t){e.$set(e.form,"departCity",t)},expression:"form.departCity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"到达城市",prop:"destCity"}},[r("el-autocomplete",{staticClass:"el-autocomplete",attrs:{"fetch-suggestions":e.queryDestSearch,placeholder:"请搜索到达城市"},on:{select:e.handleDestSelect,blur:e.handleDestBlur},model:{value:e.form.destCity,callback:function(t){e.$set(e.form,"destCity",t)},expression:"form.destCity"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出发时间",prop:"departDate"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"请选择日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},on:{change:e.handleDate},model:{value:e.form.departDate,callback:function(t){e.$set(e.form,"departDate",t)},expression:"form.departDate"}})],1),e._v(" "),r("el-form-item",{attrs:{label:""}},[r("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSubmit}},[e._v("\n        搜索\n      ")])],1),e._v(" "),r("div",{staticClass:"reverse"},[r("span",{on:{click:e.handleReverse}},[e._v("换")])])],1)],1)}),[],!1,null,"1f931848",null);t.default=component.exports},648:function(e,t,r){"use strict";r(611)},649:function(e,t,r){var o=r(20)(!1);o.push([e.i,".air-sale[data-v-70e2d730]{border:1px solid #ddd;padding:20px;margin-bottom:50px}.air-sale .air-sale-pic>div[data-v-70e2d730]{width:225px;height:140px;position:relative;overflow:hidden}.air-sale .air-sale-pic>div img[data-v-70e2d730]{width:100%}.air-sale .air-sale-pic>div .layer-bar[data-v-70e2d730]{position:absolute;bottom:0;left:0;background:rgba(0,0,0,.5);color:#fff;height:30px;line-height:30px;width:100%;box-sizing:border-box;padding:0 15px;font-size:14px}.air-sale .air-sale-pic>div .layer-bar span[data-v-70e2d730]:last-child{font-size:18px}.air-sale-group[data-v-70e2d730]{margin-top:20px;padding-top:8px;border-right:1px solid #eee}.air-sale-group[data-v-70e2d730]:last-child{border-right:none}.air-sale-group .air-sale-row[data-v-70e2d730]{font-size:12px;color:#666;margin-bottom:8px}.air-sale-group .air-sale-row .air-sale-price[data-v-70e2d730]{color:orange;font-size:20px}.container[data-v-70e2d730]{width:1000px;margin:0 auto}.air-title[data-v-70e2d730]{margin:15px 0;font-weight:400;color:orange}.air-title[data-v-70e2d730],.air-title span[data-v-70e2d730]{font-size:20px}.statement[data-v-70e2d730]{margin:15px 0;border:1px solid #ddd;background:#f5f5f5;height:58px;padding:10px 0;box-sizing:border-box}.statement>div[data-v-70e2d730]{text-align:center;line-height:38px;border-right:1px solid #ddd}.statement>div[data-v-70e2d730]:last-child{border-right:none}.statement>div *[data-v-70e2d730]{vertical-align:middle}.statement>div i[data-v-70e2d730]{font-size:30px}.air-sale-title[data-v-70e2d730]{margin:15px 0;font-size:20px;font-weight:400;color:#409eff}.air-sale-title span[data-v-70e2d730]{font-size:20px}",""]),e.exports=o},697:function(e,t,r){"use strict";r.r(t);var o={components:{SearchForm:r(630).default},mounted:function(){var e=this;this.$axios({url:"/airs/sale"}).then((function(t){console.log(t);var data=t.data.data;e.sales=data}))},data:function(){return{sales:[]}}},n=(r(648),r(22)),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"container"},[e._m(0),e._v(" "),r("el-row",{attrs:{type:"flex",justify:"space-between"}},[r("SearchForm"),e._v(" "),r("div",{staticClass:"sale-banner"},[r("img",{attrs:{src:"http://157.122.54.189:9093/images/pic_sale.jpeg"}})])],1),e._v(" "),r("el-row",{staticClass:"statement",attrs:{type:"flex"}},[r("el-col",{attrs:{span:8}},[r("i",{staticClass:"iconfont iconweibiaoti-_huabanfuben",staticStyle:{color:"#409eff"}}),e._v(" "),r("span",[e._v("100%航协认证")])]),e._v(" "),r("el-col",{attrs:{span:8}},[r("i",{staticClass:"iconfont iconbaozheng",staticStyle:{color:"green"}}),e._v(" "),r("span",[e._v("出行保证")])]),e._v(" "),r("el-col",{attrs:{span:8}},[r("i",{staticClass:"iconfont icondianhua",staticStyle:{color:"#409eff"}}),e._v(" "),r("span",[e._v("7x24小时服务")])])],1),e._v(" "),e._m(1),e._v(" "),r("div",{staticClass:"air-sale"},[r("el-row",{staticClass:"air-sale-pic",attrs:{type:"flex",justify:"space-between"}},e._l(e.sales,(function(t,o){return r("el-col",{key:o,attrs:{span:6}},[r("nuxt-link",{attrs:{to:"/air/flights?departCity="+t.departCity+"&departCode="+t.departCode+"&destCity="+t.destCity+"&destCode="+t.destCode+"&departDate="+t.departDate}},[r("img",{attrs:{src:t.cover}}),e._v(" "),r("el-row",{staticClass:"layer-bar",attrs:{type:"flex",justify:"space-between"}},[r("span",[e._v(e._s(t.departCity)+"-"+e._s(t.destCity))]),e._v(" "),r("span",[e._v("￥"+e._s(t.price))])])],1)],1)})),1)],1)],1)}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"air-title"},[r("span",{staticClass:"iconfont iconfeiji"}),e._v(" "),r("i",[e._v("国内机票")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h2",{staticClass:"air-sale-title"},[r("span",{staticClass:"iconfont icontejiajipiao"}),e._v(" "),r("i",[e._v("特价机票")])])}],!1,null,"70e2d730",null);t.default=component.exports}}]);